{"version":3,"file":"index.js","sources":["../src/redux/thunks/Authentication/signIn.ts","../src/redux/thunks/Authentication/signOut.ts","../src/redux/thunks/Authentication/signUp.ts","../src/redux/slices/createAuthenticationSlice.ts","../src/Firebase.tsx"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { AuthenticationState } from '../../types/AuthenticationState';\nimport { EmailPasswordPair } from '../../types/EmailPasswordPair';\n\nexport const signIn = createAsyncThunk(\n    'authentication/signIn',\n    async (user: EmailPasswordPair): Promise<AuthenticationState> => {\n        const userCredential = await firebase.auth().signInWithEmailAndPassword(user.email, user.password);\n        return {\n            firebaseUser: userCredential.user,\n            loading: false\n        };\n    }\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { AuthenticationState } from '../../types/AuthenticationState';\n\nexport const signOut = createAsyncThunk(\n    'authentication/signOut',\n    async (): Promise<AuthenticationState> => {\n        await firebase.auth().signOut();\n        return {\n            firebaseUser: undefined,\n            loading: false\n        };\n    }\n);\n","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport { AuthenticationState } from '../../types/AuthenticationState';\nimport { EmailPasswordPair } from '../../types/EmailPasswordPair';\n\nexport const signUp = createAsyncThunk(\n    'authentication/signUp',\n    async (user: EmailPasswordPair): Promise<AuthenticationState> => {\n        const userCredential = await firebase.auth().createUserWithEmailAndPassword(user.email, user.password);\n        return {\n            firebaseUser: userCredential.user,\n            loading: false\n        };\n    }\n);\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AuthenticationState } from '../types/AuthenticationState';\nimport { signIn } from '../thunks/Authentication/signIn';\nimport { signOut } from '../thunks/Authentication/signOut';\nimport { signUp } from '../thunks/Authentication/signUp';\n\nconst initialState: AuthenticationState = {\n    firebaseUser: undefined,\n    loading: true\n};\n\ntype ReducerFunction = (state: AuthenticationState, action: PayloadAction<AuthenticationState>) => void;\ninterface ExtraReducers {\n    [key: string]: ReducerFunction;\n}\n\n// eslint-disable-next-line\nexport function createAuthenticationSlice(extraReducers?: ExtraReducers) {\n    return createSlice({\n        name: 'authentication',\n        initialState,\n        reducers: {\n            setLoadingFirebaseData: (state, action: PayloadAction<boolean>): void => {\n                state.loading = action.payload;\n            }\n        },\n        extraReducers: (builder) => {\n            const replaceAuthenticationState = (state: AuthenticationState, action: PayloadAction<AuthenticationState>): void => {\n                // Used to bypass the has not been read rule\n                if (state != null) {\n                    state = action.payload;\n                }\n            };\n\n            builder.addCase(signIn.fulfilled, replaceAuthenticationState);\n            builder.addCase(signOut.fulfilled, replaceAuthenticationState);\n            builder.addCase(signUp.fulfilled, replaceAuthenticationState);\n\n            // Inject extra reducers\n            if (extraReducers != null) {\n                const keys = Object.keys(extraReducers);\n                if (keys.length > 0) {\n                    for (const reducerKey of keys) {\n                        builder.addCase(reducerKey, extraReducers[reducerKey]);\n                    }\n                }\n            }\n        }\n    });\n}\n","import * as firebase from 'firebase/app';\nimport { useState, useEffect } from 'react';\nimport { createAuthenticationSlice } from './redux/slices/createAuthenticationSlice';\n\nconst authSlice = createAuthenticationSlice();\nauthSlice.actions.setLoadingFirebaseData(false);\n\ninterface Config {\n    [key: string]: string;\n}\n\ninterface Props {\n    children: JSX.Element;\n    firebaseConfig: Config;\n    loadingComponent: JSX.Element;\n}\n\nexport function Firebase(props: Props): JSX.Element {\n    const [firebaseReady, setFirebaseReady] = useState(false);\n    const { firebaseConfig } = props;\n\n    useEffect(() => {\n        firebase.initializeApp(firebaseConfig);\n        setFirebaseReady(true);\n    }, [firebaseConfig]);\n\n    return firebaseReady ? props.children : props.loadingComponent;\n}\n"],"names":["signIn","createAsyncThunk","user","firebase","signInWithEmailAndPassword","email","password","userCredential","firebaseUser","loading","signOut","undefined","signUp","createUserWithEmailAndPassword","initialState","createAuthenticationSlice","extraReducers","createSlice","name","reducers","setLoadingFirebaseData","state","action","payload","builder","replaceAuthenticationState","addCase","fulfilled","keys","Object","length","reducerKey","authSlice","actions","Firebase","props","useState","firebaseReady","setFirebaseReady","firebaseConfig","useEffect","children","loadingComponent"],"mappings":"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"}